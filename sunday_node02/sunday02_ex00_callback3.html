<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>sunday02_ex00_callback3</title>
    <style>
        #box{
            border: 1px solid red;
            background-color: yellow;
            width:100px;
            height: 100px;
            text-align: center;
            line-height: 100px;
            /*자바스크립트에서 left, top을 조정하기 위해 선언*/
            position : relative;
        }
    </style>
    <script>
        // 이벤트 핸들러 - 문서를 모두 읽어 들이면 실행.
        var move = function(selector, target, callback){
            var box = document.querySelector(selector);
            box.callback = callback;
            console.log(box);
            console.dir(box);
            box.style.left = '500px';
            box.style.backgroundColor = 'pink';
            
            var x = 0;
            var fn = setInterval(()=>{
                x+=10;
                box.style.left = x + 'px';
                if(x >= target){
                    clearInterval(fn);
                      
                    box.callback(box);    
                }
            }, 1000/30);
        }
        window.onload= function(){
            move('#box', 500, function(element){
                console.log(this);
                this.style.background = 'blue';
            });
        }
        
    </script>
</head>
<body>
    <div id="box">Box</div>
</body>
</html>